---
import Card from "../components/UI/Card.astro";
import ClinicalAttentionDetail from "../components/clinicalAttention/Detail.jsx";
import BaseLayout from "../layouts/Base.astro";

// Esta página actúa como fallback para rutas dinámicas del lado del cliente
// Detecta el patrón de URL y renderiza el componente apropiado
const pathname = Astro.url.pathname;
const isClinicalAttentionDetails = pathname.startsWith(
  "/clinical_attentions/details/"
);
---

{
  isClinicalAttentionDetails ? (
    <BaseLayout title="SaluIA — Detalle de Atención">
      <div class="space-y-6">
        <Card>
          <ClinicalAttentionDetail client:load />
        </Card>
      </div>
    </BaseLayout>
  ) : (
    <BaseLayout title="Página no encontrada">
      <div class="text-center py-12">
        <h1 class="text-3xl font-bold mb-4 text-health-text">404 - Página no encontrada</h1>
        <p class="text-health-text-muted mb-6">La página que buscas no existe.</p>
        <a href="/" class="text-health-accent hover:underline font-medium">
          Volver al inicio
        </a>
      </div>
    </BaseLayout>
  )
}
