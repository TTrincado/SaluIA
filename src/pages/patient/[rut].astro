---
import BaseLayout from "../../layouts/Base.astro";
import PatientExtra from "../../components/PatientExtra.astro";
import { patients } from "../../data/patients";

export const getStaticPaths = async () => {
  return patients.map((p) => ({
    params: { rut: p.rut }, 
    props: { patient: p },  
  }));
};

const { patient } = Astro.props as { patient: {
  name: string; rut: string; email: string; age: number; urgent: boolean;
}};
---

<BaseLayout title={`SaluIA — ${patient.name}`}>
  <div class="space-y-6">
    <a href="/consult" class="text-sm text-health-accent hover:underline">← Volver a Consultar</a>
    <PatientExtra patient={patient} />
  </div>
</BaseLayout>
