---
import BaseLayout from "../../layouts/Base.astro";
import Card from "../../components/UI/Card.astro";
import Spinner from "../../components/Spinner.jsx";
---

<BaseLayout title="SaluIA — Resultado">
  <Card>
    <div class="p-10 md:p-14 text-center space-y-6">
      <div id="stage" class="flex flex-col items-center gap-6">
        <Spinner client:load />
        <p class="text-white/70">Procesando información…</p>
      </div>
      <script>
        const delay = 2200;
        setTimeout(() => {
          const el = document.getElementById("stage");
          if (!el) return;
          el.innerHTML = `
            <div class="mx-auto h-14 w-14 rounded-full bg-health-ok/20 flex items-center justify-center">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
                <path d="M20 7L9 18l-5-5" stroke="#34d399" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h2 class="text-2xl font-semibold">Se aplica Ley de Urgencia</h2>
            <p class="text-white/70 max-w-prose mx-auto">
              El caso cumple criterios de activación según los datos entregados (MVP demostrativo).
            </p>
            <div class="pt-2">
              <a href="/consult" class="text-health-accent hover:underline">Ver historial</a>
              <span class="mx-2 text-white/40">·</span>
              <a href="/send" class="text-health-accent hover:underline">Enviar otro</a>
            </div>
          `;
        }, delay);
      </script>
    </div>
  </Card>
</BaseLayout>
